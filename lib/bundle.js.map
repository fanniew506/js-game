{"version":3,"sources":["webpack:///webpack/bootstrap 8008686c0c45e1e8d473","webpack:///./lib/game.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,uBAAuB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,qBAAqB;AAChC;AACA;AACA;AACA;;AAEA;AACA,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,OAAM,qCAAqC;AAC3C,QAAO,qCAAqC;AAC5C;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAW,sBAAsB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC,YAAW;AACX;AACA,oBAAmB,kBAAkB;AACrC;AACA,UAAS;AACT;AACA;AACA,oBAAmB,mBAAmB;AACtC,YAAW;AACX;AACA,oBAAmB,iBAAiB;AACpC;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,sDAAqD,sBAAsB,EAAE;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,sCAAsC;AACzE,MAAK;AACL;AACA,oCAAmC,qCAAqC;AACxE,MAAK;AACL;AACA;AACA;AACA;AACA,oCAAmC,qCAAqC;AACxE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,6DAA6D;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,uCAAuC;AACvE,IAAG;AACH;;;AAGA;AACA;AACA,sBAAqB,UAAU;;AAE/B;AACA,0BAAyB;AACzB,0BAAyB;AACzB,0BAAyB;AACzB,2BAA0B;AAC1B,2BAA0B,iBAAiB;AAC3C,2BAA0B;AAC1B,2BAA0B;AAC1B,2BAA0B;AAC1B,2BAA0B;AAC1B;;AAEA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,MAAK;AACL,yCAAwC,YAAY;AACpD;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,oBAAoB;AAC7B,UAAS,cAAc;AACvB;AACA,UAAS,4DAA4D;AACrE,UAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8008686c0c45e1e8d473","let createjs = window.createjs;\nlet stage;\nlet animation;\nlet currentMenu;\nlet data = {\n  images: [\"./images/char.png\"],\n  frames: {width: 90, height: 113},\n  animations: {\n    run:[0, 11, 'run']\n  }\n};\n\nlet bombData = {\n  images: [\"./images/bomb.png\"],\n  frames: {width: 32, height:32},\n  animations: {\n    run:[0, 4, 'fizzle']\n  }\n};\n\nlet levels = {\n  1: { itemSpeed: 2800, itemInterval: 700 },\n  2: { itemSpeed: 2800, itemInterval: 600 },\n  3: { itemSpeed: 2600, itemInterval: 500 },\n  4: { itemSpeed: 2400, itemInterval: 400 },\n  5: { itemSpeed: 2200, itemInterval: 300 },\n  6: { itemSpeed: 2000, itemInterval: 300 },\n  7: { itemSpeed: 1900, itemInterval: 300 },\n  8: { itemSpeed: 1800, itemInterval: 200 },\n  9: { itemSpeed: 1700, itemInterval: 200 },\n  10: { itemSpeed: 1600, itemInterval: 200 },\n};\n\nlet ratio = [\"b\", \"b\", \"b\", \"c\", \"c\", \"c\", \"c\", \"bc\", \"l\"];\nlet highRatio = [\"b\", \"b\", \"b\", \"bc\", \"c\", \"c\", \"c\", \"c\", \"bc\", \"l\"];\nlet currentLevel = 1;\n\nlet blueCoinData = {\n  images: [\"./images/blue_coin.png\"],\n  frames: {width: 21, height: 26},\n  animations: {\n    run:[0, 11, 'sparkle']\n  }\n};\nlet tree;\nlet coin;\nlet log;\nlet jumping;\nlet isJumping = false;\nlet numCoins;\nlet position = {\n  center: 290,\n  right: 410,\n  left: 170\n};\n\nlet itemIdx = 0;\nlet bombIdx = 0;\nlet blueitemIdx = 0;\n\nlet gameOverText;\nlet gameOverModal;\nlet bitmap;\nlet bomb;\nlet bombArr = [];\nlet itemArr = [];\nlet coinCount = 0;\nlet randomPos = [[290, 100], [320, 310], [340, 510]];\nlet playing = false;\nlet Key = {\n  _pressed: {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40 ,\n    ENTER: 13,\n    H: 72\n    },\n\n  onKeydown: function(event) {\n    if (playing === true && isJumping === false) {\n        if (event.keyCode === this._pressed.RIGHT) {\n          if (animation.x === position.left) {\n            createjs.Tween.get(animation)\n              .to({x: position.center}, 150, createjs.Ease.quadInOut);\n          } else if (animation.x === position.center) {\n            createjs.Tween.get(animation)\n              .to({x: position.right}, 150,createjs.Ease.quadInOut);\n          }\n        } else if (event.keyCode === this._pressed.LEFT) {\n          if (  animation.x === position.right) {\n            createjs.Tween.get(animation)\n              .to({x: position.center}, 150,createjs.Ease.quadInOut);\n          } else if (animation.x === position.center) {\n            createjs.Tween.get(animation)\n              .to({x: position.left}, 150,createjs.Ease.quadInOut);\n          }\n        } else if (event.keyCode === this._pressed.UP) {\n        jump();\n      }\n    } else if (event.keyCode === this._pressed.ENTER) {\n      if ( currentMenu === \"start\" || currentMenu === \"help\") {\n        init();\n      } else {\n        resetGame();\n      }\n    } else if (event.keyCode === this._pressed.H) {\n      showHelp();\n    }\n  }\n};\n\nwindow.addEventListener('keydown',  function(event) { Key.onKeydown(event); });\n\nfunction init() {\n  stage.removeAllChildren();\n  currentMenu = null;\n  playing = true;\n  displayRoad();\n  displayCoinCount();\n  addRunningChar();\n  play();\n  addTree();\n  createjs.Ticker.on(\"tick\", tick);\n}\n\nfunction addTree() {\n  if (playing === true) {\n    let random = Math.random();\n    tree = new createjs.Bitmap(\"./images/tree.png\");\n    tree.y = 215;\n    tree.scaleX = 0.4;\n    tree.scaleY = 0.4;\n    stage.addChild(tree);\n    if (random < 0.4) {\n      tree.x = 230;\n      createjs.Tween.get(tree).to({x: -1200, y: 800, scaleX: 9, scaleY:9}, levels[currentLevel].itemSpeed + 2000, createjs.Ease.quadIn);\n    } else if (random < 0.8){\n      tree.x = 380;\n      createjs.Tween.get(tree).to({x: 1200, y: 800, scaleX: 9, scaleY:9}, levels[currentLevel].itemSpeed + 2000, createjs.Ease.quadIn);\n    } else {\n      tree.x = 500;\n      tree.y = 240;\n      tree.scaleX = 0.2;\n      tree.scaleY = 0.2;\n      createjs.Tween.get(tree).to({x: 2700, y: 800, scaleX: 9, scaleY:9}, levels[currentLevel].itemSpeed+ 8000, createjs.Ease.quadIn);\n    }\n    setTimeout(addTree, random * 1500 + 200);\n  }\n}\n\nfunction addRunningChar() {\n  let spriteSheet = new createjs.SpriteSheet(data);\n  animation = new createjs.Sprite(spriteSheet,\"run\");\n  animation.y = 410;\n  animation.x = position.center;\n  stage.addChild(animation);\n}\n\nfunction displayRoad() {\n  let bg = new createjs.Bitmap(\"./images/background.png\");\n  bg.scaleY = 1.18;\n  bg.scaleX = 1.5;\n  bg.x = -300;\n  stage.addChild(bg);\n  let road = new createjs.Bitmap(\"./images/road.png\");\n  road.x = 80;\n  road.y = 250;\n  stage.addChild(road);\n}\n\nfunction play() {\n  let randomTime = Math.floor(Math.random()* levels[currentLevel].itemInterval + 100);\n  if (playing === true) {\n    let randomIdx = Math.floor(Math.random()* ratio.length);\n    if (ratio[randomIdx] === \"b\") {\n      giveBomb();\n    } else if (ratio[randomIdx] === \"c\"){\n      giveCoin(\"yellow\");\n    } else if (ratio[randomIdx] === \"bc\"){\n      giveCoin(\"blue\");\n    } else if (ratio[randomIdx] === \"l\" ){\n      giveLog();\n      randomTime += 700;\n    }\n    setTimeout(play, randomTime);\n  }\n}\n\nfunction giveBomb() {\n  let randomIdx = Math.floor(Math.random() * 3);\n  let bombSheet = new createjs.SpriteSheet(bombData);\n  bomb = new createjs.Sprite(bombSheet,\"fizzle\");\n  bomb.x = randomPos[randomIdx][0];\n  bomb.y = 240;\n  bomb.scaleX = 0.7;\n  bomb.scaleY = 0.7;\n  bomb.name = \"bomb\";\n  itemArr.push(bomb);\n  stage.addChild(bomb);\n  createjs.Tween.get(bomb).to(\n    {\n      x: randomPos[randomIdx][1],\n      y: 600,\n      scaleX: 3.5,\n      scaleY: 3.5\n    },\n    levels[currentLevel].itemSpeed,\n    createjs.Ease.quadIn\n  );\n  itemIdx += 1;\n}\n\nfunction giveCoin(color) {\n  if (color === \"yellow\") {\n    coin = new createjs.Bitmap(\"./images/coin.png\");\n    coin.name = \"yellowCoin\";\n  } else if (color === \"blue\") {\n    let blueCoinSheet = new createjs.SpriteSheet(blueCoinData);\n    coin = new createjs.Sprite(blueCoinSheet,\"sparkle\");\n    coin.name = \"blueCoin\";\n  }\n  let randomIdx = Math.floor(Math.random() * 3);\n  coin.x = randomPos[randomIdx][0];\n  coin.y = 240;\n  coin.scaleX = 0.7;\n  coin.scaleY = 0.7;\n  itemArr.push(coin);\n  stage.addChild(coin);\n  createjs.Tween.get(coin).to({x: randomPos[randomIdx][1], y: 600, scaleX: 3.5, scaleY: 3.5}, levels[currentLevel].itemSpeed, createjs.Ease.quadIn);\n  itemIdx += 1;\n}\n\nfunction giveLog() {\n  log = new createjs.Bitmap(\"./images/log.png\");\n  log.x = 280;\n  log.y = 230;\n  log.scaleX = 0.15;\n  log.scaleY = 0.1;\n  log.name = \"log\";\n  itemArr.push(log);\n  itemIdx += 1;\n  setTimeout(() => {\n    stage.addChild(log);\n    createjs.Tween.get(log).to({x: 20, y: 600, scaleX: 1, scaleY: 0.75}, levels[currentLevel].itemSpeed, createjs.Ease.quadIn);\n  }, 500);\n}\n\n\nfunction tick() {\n  // updates coin coint\n  numCoins.text = `${coinCount}`;\n\n  // level up\n  if (coinCount === 30) {currentLevel = 2;}\n  if (coinCount === 60) {currentLevel = 3;}\n  if (coinCount === 90) {currentLevel = 4;}\n  if (coinCount === 130) {currentLevel = 5;}\n  if (coinCount === 170) {currentLevel = 6; ratio = highRatio;}\n  if (coinCount === 200) {currentLevel = 7;}\n  if (coinCount === 240) {currentLevel = 8;}\n  if (coinCount === 280) {currentLevel = 9;}\n  if (coinCount === 250) {currentLevel = 10;}\n  let itemDup = itemArr;\n\n  // collisions with objects\n  for (let j = 0; j < itemDup.length; j++) {\n    if (itemDup[j].y === 600){\n      stage.removeChild(itemArr[j]);\n      itemArr.splice(j, 1);\n      itemIdx -= 1;\n    } else if ( itemDup[j].y > 390 && itemDup[j].y < 460 && isJumping === false) {\n        if (itemDup[j].name === \"log\") { gameOver(); }\n        if ( itemDup[j].x > position.left - 50 && itemDup[j].x < position.left + 50 && animation.x === position.left ) {\n          handleCollision(itemArr[j], j);\n        } else if ( itemDup[j].x > position.center - 10 && itemDup[j].x < position.center + 50 && animation.x === position.center ) {\n          handleCollision(itemArr[j], j);\n        } else if ( itemDup[j].x > position.right - 30 && itemDup[j].x < position.right + 50 && animation.x === position.right ) {\n          handleCollision(itemArr[j], j);\n        }\n    }\n  }\n}\n\n\nfunction handleCollision(item, idx) {\n  if (item.name === \"bomb\") {\n    gameOver();\n  } else {\n    collectCoin(item, idx);\n  }\n}\n\nfunction collectCoin (collectedCoin, idx) {\n  if (collectedCoin.name === \"yellowCoin\") {\n    coinCount += 1;\n  } else if (collectedCoin.name === \"blueCoin\"){\n    coinCount += 2;\n  }\n  stage.removeChild(collectedCoin);\n  itemArr.splice(idx, 1);\n  itemIdx -= 1;\n}\n\nfunction jump() {\n  isJumping = true;\n  let currentX = animation.x;\n  let currentY = animation.y;\n  stage.removeChild(animation);\n  jumping = new createjs.Bitmap(\"./images/jumping.png\");\n  let shadow = new createjs.Bitmap(\"./images/shadow.png\");\n  jumping.y = currentY;\n  jumping.x = currentX;\n  shadow.y = currentY;\n  shadow.x = currentX;\n  stage.addChild(jumping, shadow);\n  createjs.Tween.get(jumping)\n    .to({ y: currentY - 150 }, 400, createjs.Ease.quadInOut)\n    .to({ y: currentY }, 400, createjs.Ease.quadInOut);\n  createjs.Tween.get(shadow)\n    .to({ x: currentX + 50, y: currentY + 100, scaleX: 0, scaleY: 0 }, 400, createjs.Ease.quadInOut)\n    .to({ x: currentX, y: currentY, scaleX: 1, scaleY: 1 }, 400, createjs.Ease.quadInOut);\n  setTimeout(() => {\n    stage.removeChild(jumping, shadow);\n    stage.addChild(animation);\n    isJumping = false;\n  }, 800);\n}\n\ngameOverModal = new createjs.Shape();\ngameOverModal.graphics.beginFill('#ccc').drawRect(0, 0, 700, 600);\ngameOverModal.alpha = 0;\ngameOverText = new createjs.Text();\ngameOverText.text = \"GAME OVER\\nPress Enter to Play Again\";\ngameOverText.font = \"bold 30px Gloria Hallelujah\";\ngameOverText.color = \"#eee\";\ngameOverText.textAlign = \"center\";\ngameOverText.x = 350;\ngameOverText.y = 200;\ngameOverText.alpha = 0;\n\nfunction gameOver() {\n  stage.addChild(gameOverModal, gameOverText);\n  stage.removeChild(animation);\n  createjs.Ticker.paused = true;\n  playing = false;\n  gameOverText.alpha = 1;\n  gameOverModal.alpha = 0.75;\n}\n\nfunction resetGame() {\n  createjs.Ticker.paused = false;\n  stage.removeAllChildren();\n  itemArr = [];\n  bombArr = [];\n  coinCount = 0;\n  itemIdx = 0;\n  bombIdx = 0;\n  currentLevel = 1;\n  currentMenu = \"\";\n  init();\n}\n\nfunction displayCoinCount(){\n  coin = new createjs.Bitmap(\"./images/coin.png\");\n  coin.x = 600;\n  coin.y = 30;\n  numCoins = new createjs.Text(`${coinCount}`, \"25px Arial\", \"#f50\");\n  numCoins.x = 630;\n  numCoins.y = 50;\n  numCoins.textBaseline = \"alphabetic\";\n  stage.addChild(numCoins, coin);\n}\n\nfunction showStart() {\n  stage = new createjs.Stage(\"gamecanvas\");\n  let start = new createjs.Bitmap(\"./images/start_menu.png\");\n  start.x = 0;\n  start.y = 0;\n  start.name = \"startmenu\";\n  stage.addChild(start);\n  createjs.Ticker.addEventListener(\"tick\", stage);\n  createjs.Ticker.setFPS(30);\n  addRunningChar();\n}\n\nfunction showHelp(){\n  stage.removeAllChildren();\n  let help = new createjs.Bitmap(\"./images/help.png\");\n  help.x = 0;\n  help.y = 0;\n  help.name = \"helpmenu\";\n  stage.addChild(help);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  showStart();\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}